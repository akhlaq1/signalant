{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","routes/components/billing/Invoices/ResetFilter.js","routes/components/billing/Invoices/index.js"],"names":["_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","Object","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","__webpack_require__","d","__webpack_exports__","ResetFilter","state","filteredInfo","sortedInfo","data","tdata","pdata","handleChange","pagination","filters","sorter","console","log","_this","setState","clearFilters","clearAll","setAgeSort","order","columnKey","_this2","this","firebase","ref","on","snapshot","forEach","childSnapShot","locker","key","TraderId","val","PaymentId","paymentID","PackageId","pid","InvoiceId","push","tkey","child","tdatas","tdr","fn","pkey","pdatas","prevState","concat","toConsumableArray","_this$state","columns","title","dataIndex","filteredValue","onFilter","value","record","includes","a","b","sortOrder","react_default","createElement","card","table","className","dataSource","onChange","Name","React","Component","DataTable","row","col","span","Invoices_ResetFilter"],"mappings":"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","file":"static/js/79.984fecbe.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React from \"react\";\nimport {Card, Table, Button} from \"antd\";\nimport * as firebase from \"firebase\";\n\nclass ResetFilter extends React.Component{\n  state = {\n    filteredInfo: null,\n    sortedInfo: null,\n    data:[],\n    tdata:[],\n    pdata:[]\n  };\n\n  // gettdata(key){\n  //   console.log(key);\n    \n  //   let tkey = key;\n  //   let tref = firebase.database().ref(\"users\").child(tkey);\n  //       tref.on(\"value\", snapshot => {\n  //           var fn = snapshot.val().Name;\n  //           // this.setState({tdata: fn})\n  //           putdata(fn);\n  //         })\n  // }\n\n\n  componentDidMount(){\n    let Ref = firebase.database().ref(\"invoices\");\n    Ref.on(\"value\", snapshot => {\n      const data = [];\n\n      snapshot.forEach(childSnapShot => {\n \n        const locker = {\n          key         : childSnapShot.key.toString(),\n          TraderId    : childSnapShot.val().TraderId,\n          PaymentId   : childSnapShot.val().paymentID,\n          PackageId   : childSnapShot.val().pid,\n          InvoiceId   : \"SIG1234\"\n        };\n        \n        // console.log(this.gettdata(childSnapShot.val().TraderId));\n        data.push(locker);\n\n        let tkey = locker.TraderId;\n        let tref = firebase.database().ref(\"users\").child(tkey);\n          tref.on(\"value\", snapshot => {\n            var tdatas = [];\n            snapshot.forEach(function(childSnapShot){\n              var tdr = childSnapShot.val();\n                  tdatas.push(tdr);\n            })\n            console.log(snapshot.val());\n            let fn = snapshot.val();\n            this.setState({tdata: fn})\n          })\n\n        let pkey = locker.PackageId;\n        let pref = firebase.database().ref(\"packages\").child(pkey);\n          pref.on(\"value\", snapshot => {\n            // var pdatas = [];\n            // snapshot.forEach(function(childSnapshot) {\n            //   var item = childSnapshot.val();\n            //   pdatas.push(item);\n            // })\n            let pdatas = snapshot.val();\n            this.setState({pdata: pdatas})\n          })\n        \n      })\n\n      this.setState(prevState => {\n        return { data: [...prevState.data, ...data] };\n      });\n\n    })\n  }\n\n  \n\n  handleChange = (pagination, filters, sorter) => {\n    console.log('Various parameters', pagination, filters, sorter);\n    this.setState({\n      filteredInfo: filters,\n      sortedInfo: sorter,\n    });\n  };\n\n  clearFilters = () => {\n    this.setState({filteredInfo: null});\n  };\n\n  clearAll = () => {\n    this.setState({\n      filteredInfo: null,\n      sortedInfo: null,\n    });\n  };\n\n  setAgeSort = () => {\n    this.setState({\n      sortedInfo: {\n        order: 'descend',\n        columnKey: 'TraderId',\n      },\n    });\n  };\n\n  render(){\n    let {sortedInfo, filteredInfo} = this.state;\n    sortedInfo = sortedInfo || {};\n    filteredInfo = filteredInfo || {};\n    const columns = [{\n        title: 'Key ID',\n        dataIndex: 'key',\n        key: 'key',\n        filteredValue: filteredInfo.key || null,\n        onFilter: (value, record) => record.key.includes(value),\n        sorter: (a, b) => a.key.length - b.key.length,\n        sortOrder: sortedInfo.columnKey === 'key' && sortedInfo.order,\n      }, {\n        title: 'Trader Id',\n        dataIndex: 'TraderId',\n        key: 'TraderId',\n        sorter: (a, b) => a.TraderId - b.TraderId,\n        sortOrder: sortedInfo.columnKey === 'TraderId' && sortedInfo.order,\n      }, {\n        title: 'Package Id',\n        dataIndex: 'PackageId',\n        key: 'PackageId',\n        filteredValue: filteredInfo.PackageId || null,\n        onFilter: (value, record) => record.PackageId.includes(value),\n        sorter: (a, b) => a.PackageId.length - b.PackageId.length,\n        sortOrder: sortedInfo.columnKey === 'PackageId' && sortedInfo.order,\n      }, {\n        title: 'Invoice No',\n        dataIndex: 'InvoiceId',\n        key: 'InvoiceId',\n        sorter: (a, b) => a.InvoiceId - b.InvoiceId,\n        sortOrder: sortedInfo.columnKey === 'InvoiceId' && sortedInfo.order,\n      }\n    ];\n\n    console.log(this.state.data);\n    console.log(this.state.tdata);\n    console.log(this.state.pdata);\n\n    // const invoices = this.state.tdata.map((item, i) => {\n    //   return(\n    //     <p>{item.key}</p>\n    //   )\n    // });\n\n    return(\n      <Card title=\"Billing\">\n        <Table className=\"gx-table-responsive\" columns={columns} dataSource={this.state.data} onChange={this.handleChange}/>\n\n        <table className=\"gx-table-responsive\">\n          <thead>\n            <tr>\n              <th>S.No</th>\n              <th>Trader Name</th>\n              <th>Package Name</th>\n              <th>Invoice Id</th>\n              <th>Action</th>\n            </tr>\n          </thead>\n          \n          <tbody>\n            <tr>\n              <td>1</td>\n              <td>{this.state.tdata.Name}</td>\n              <td>{this.state.pdata.Name}</td>\n              <td>SIG1234</td>\n              <td>View</td>\n            </tr>\n          </tbody>\n        </table>\n\n        {/* <p>{invoices}</p> */}\n      </Card>\n    )\n  }\n}\n\nexport default ResetFilter;","import React from \"react\";\nimport {Col, Row} from \"antd\";\nimport ResetFilter from \"./ResetFilter\";\n\nconst DataTable = () => {\n  return (\n    <Row>\n      <Col span={24}>\n        <ResetFilter/>\n      </Col>\n    </Row>\n  );\n};\n\nexport default DataTable;\n"],"sourceRoot":""}